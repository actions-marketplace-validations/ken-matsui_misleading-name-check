name: Test

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - id: check-misleading
        uses: ken-matsui/misleading-name-check@main
        with:
          name: paoc
          list: poac poacpp
          distance: 2

      - name: Test the result
        run: |
          ['${{ steps.check-misleading.outputs.is-misleading }}' = true]

      - id: check-not-misleading
        uses: ken-matsui/misleading-name-check@main
        with:
          name: paoc
          list: poac poacpp

      - name: Test the result
        run: |
          ['${{ steps.check-not-misleading.outputs.is-misleading }}' = true]
